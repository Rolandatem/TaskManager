<UserControl x:Class="IncStores.TaskManager.WpfTaskViewer.Views.TaskScheduler.UpsertScheduledTaskView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:IncStores.TaskManager.WpfTaskViewer.ViewModels.TaskScheduler"
             xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" 
             xmlns:cc="clr-namespace:IncStores.TaskManager.WpfTaskViewer.CustomControls"
             mc:Ignorable="d" 
             Background="{StaticResource Global.AppWorkspace.Background}"
             FontFamily="{StaticResource Roboto}"
             d:DesignHeight="584" d:DesignWidth="1000" 
             d:DataContext="{d:DesignInstance IsDesignTimeCreatable=True, Type={x:Type vm:UpsertScheduledTaskViewModelDesign}}">

    <UserControl.Resources>
        <SolidColorBrush x:Key="UpsertScheduledTask.RequiredField.Foreground" Color="Red" />
        <SolidColorBrush x:Key="UpsertScheduledTask.ScheduleID.Foreground" Color="{StaticResource Global.SecondaryAccent.Color}" />
    </UserControl.Resources>

    <cc:ContentSection VerticalAlignment="Center" HorizontalAlignment="Center" MinWidth="500">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <cc:ViewTitle>
                <cc:ViewTitle.Style>
                    <Style TargetType="{x:Type cc:ViewTitle}">
                        <Setter Property="Title" Value="Edit Scheduled Task" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Path=ID}" Value="{x:Null}">
                                <Setter Property="Title" Value="New Scheduled Task" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </cc:ViewTitle.Style>
            </cc:ViewTitle>

            <!-- ID AND SCHEDULE NAME ROW -->
            <Grid Grid.Row="1" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="ID:" VerticalAlignment="Center" />
                <TextBlock Grid.Column="1" Text="{Binding ID, TargetNullValue=New}" Margin="5,0,0,0" Foreground="{StaticResource UpsertScheduledTask.ScheduleID.Foreground}" VerticalAlignment="Center" />
                <TextBlock Grid.Column="2" Margin="10,0,0,0" VerticalAlignment="Center">
                    <Run Text="*" Foreground="{StaticResource UpsertScheduledTask.RequiredField.Foreground}" /><!--
                    --><Run Text="Schedule Name:" />
                </TextBlock>
                <TextBox Grid.Column="3" Text="{Binding ScheduleName}" Margin="5,0,0,0" />
            </Grid>

            <!-- RECIPE TYPE AND FREQUENCY ROW -->
            <Grid Grid.Row="2" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" VerticalAlignment="Center">
                    <Run Text="*" Foreground="{StaticResource UpsertScheduledTask.RequiredField.Foreground}" /><!--
                    --><Run Text="Recipe Type:" />
                </TextBlock>
                <ComboBox Grid.Column="1" ItemsSource="{Binding RecipeTypeList}" SelectedItem="{Binding SelectedRecipeType}" DisplayMemberPath="StringKey" Margin="5,0,0,0" />

                <TextBlock Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0">
                    <Run Text="*" Foreground="{StaticResource UpsertScheduledTask.RequiredField.Foreground}" /><!--
                    --><Run Text="Frequency:" />
                </TextBlock>
                <ComboBox Grid.Column="3" ItemsSource="{Binding FrequencyList}" SelectedItem="{Binding SelectedFrequency}" Margin="5,0,0,0" />
            </Grid>
            
            <!-- DAYS AND ISACTIVE ROW -->
            <Grid Grid.Row="3" Margin="0,10,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock>
                        <Run Text="*" Foreground="{StaticResource UpsertScheduledTask.RequiredField.Foreground}" /><!--
                        --><Run Text="Days:" />
                    </TextBlock>
                    <CheckBox Content="Mo" IsChecked="{Binding MondayIsSelected}" Margin="5,0,0,0" />
                    <CheckBox Content="Tu" IsChecked="{Binding TuesdayIsSelected}" Margin="5,0,0,0" />
                    <CheckBox Content="We" IsChecked="{Binding WednesdayIsSelected}" Margin="5,0,0,0" />
                    <CheckBox Content="Th" IsChecked="{Binding ThursdayIsSelected}" Margin="5,0,0,0" />
                    <CheckBox Content="Fr" IsChecked="{Binding FridayIsSelected}" Margin="5,0,0,0" />
                    <CheckBox Content="Sa" IsChecked="{Binding SaturdayIsSelected}" Margin="5,0,0,0" />
                    <CheckBox Content="Su" IsChecked="{Binding SundayIsSelected}" Margin="5,0,0,0" />
                </StackPanel>

                <CheckBox Grid.Column="1" Content="Active" Margin="20,0,0,0" IsChecked="{Binding IsActive}" />
            </Grid>

            <StackPanel Grid.Row="4" Margin="0,10,0,0" Orientation="Horizontal">
                <StackPanel>
                    <TextBlock>
                        <Run Text="*" Foreground="{StaticResource UpsertScheduledTask.RequiredField.Foreground}" /><!--
                        --><Run Text="Start Time:" />
                    </TextBlock>
                    <xctk:DateTimePicker Value="{Binding StartTime}" Format="Custom" FormatString="MM/dd/yyyy hh:mm:ss tt" />
                </StackPanel>

                <StackPanel Margin="20,0,0,0">
                    <TextBlock Text="End Time:" />
                    <xctk:DateTimePicker Value="{Binding EndTime}" Format="Custom" FormatString="MM/dd/yyyy hh:mm:ss tt" />
                </StackPanel>
            </StackPanel>

            <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                <Button Content="Save" Command="{Binding SaveCommand}" />
                <Button Content="Close" Command="{Binding CloseCommand}" Margin="10,0,0,0" />
            </StackPanel>
        </Grid>
    </cc:ContentSection>
</UserControl>
